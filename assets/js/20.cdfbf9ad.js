(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{382:function(t,s,e){"use strict";e.r(s);var a=e(45),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"redis-cluster"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster"}},[t._v("#")]),t._v(" Redis Cluster")]),t._v(" "),e("p",[t._v("The redis setup cluster mode can be customized using custom configuration. If redis setup is done by "),e("strong",[t._v("Helm")]),t._v(", in that case "),e("code",[t._v("values.yaml")]),t._v(" can be updated.")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/OT-CONTAINER-KIT/helm-charts/blob/main/charts/redis-cluster/values.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis cluster values"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("But if the setup is not done via Helm, in that scenario we may have to customize the CRD parameters.")]),t._v(" "),e("p",[t._v("In this configuration section, we have these configuration parameters:-")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/guide/configuration.html#helm-parameters"}},[t._v("Helm Parameters")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/guide/configuration.html#crd-parameters"}},[t._v("CRD Parameters")])],1)]),t._v(" "),e("h2",{attrs:{id:"helm-parameters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#helm-parameters"}},[t._v("#")]),t._v(" Helm Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[e("strong",[t._v("Name")])]),t._v(" "),e("th",[e("strong",[t._v("Default Value")])]),t._v(" "),e("th",[e("strong",[t._v("Description")])])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("imagePullSecrets")])]),t._v(" "),e("td",[t._v("[]")]),t._v(" "),e("td",[t._v("List of image pull secrets, in case redis image is getting pull from private registry")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.clusterSize")])]),t._v(" "),e("td",[t._v("3")]),t._v(" "),e("td",[t._v("Size of the redis cluster leader and follower nodes")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.clusterVersion")])]),t._v(" "),e("td",[t._v("v7")]),t._v(" "),e("td",[t._v("Major version of Redis setup, values can be v6 or v7")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.persistenceEnabled")])]),t._v(" "),e("td",[t._v("true")]),t._v(" "),e("td",[t._v("Persistence should be enabled or not in the Redis cluster setup")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.secretName")])]),t._v(" "),e("td",[t._v("redis-secret")]),t._v(" "),e("td",[t._v("Name of the existing secret in Kubernetes")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.secretKey")])]),t._v(" "),e("td",[t._v("password")]),t._v(" "),e("td",[t._v("Name of the existing secret key in Kubernetes")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.image")])]),t._v(" "),e("td",[t._v("quay.io/opstree/redis")]),t._v(" "),e("td",[t._v("Name of the redis image")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.tag")])]),t._v(" "),e("td",[t._v("v6.2")]),t._v(" "),e("td",[t._v("Tag of the redis image")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.imagePullPolicy")])]),t._v(" "),e("td",[t._v("IfNotPresent")]),t._v(" "),e("td",[t._v("Image Pull Policy of the redis image")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.leader.affinity")])]),t._v(" "),e("td",[t._v("{}")]),t._v(" "),e("td",[t._v("Affinity for node and pods for redis leader statefulset")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisCluster.follower.affinity")])]),t._v(" "),e("td",[t._v("{}")]),t._v(" "),e("td",[t._v("Affinity for node and pods for redis follower statefulset")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("externalService.enabled")])]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("If redis service needs to be exposed using LoadBalancer or NodePort")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("externalService.annotations")])]),t._v(" "),e("td",[t._v("{}")]),t._v(" "),e("td",[t._v("Kubernetes service related annotations")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("externalService.serviceType")])]),t._v(" "),e("td",[t._v("NodePort")]),t._v(" "),e("td",[t._v("Kubernetes service type for exposing service, values - ClusterIP, NodePort, and LoadBalancer")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("externalService.port")])]),t._v(" "),e("td",[t._v("6379")]),t._v(" "),e("td",[t._v("Port number on which redis external service should be exposed")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("serviceMonitor.enabled")])]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("Servicemonitor to monitor redis with Prometheus")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("serviceMonitor.interval")])]),t._v(" "),e("td",[t._v("30s")]),t._v(" "),e("td",[t._v("Interval at which metrics should be scraped.")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("serviceMonitor.scrapeTimeout")])]),t._v(" "),e("td",[t._v("10s")]),t._v(" "),e("td",[t._v("Timeout after which the scrape is ended")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("serviceMonitor.namespace")])]),t._v(" "),e("td",[t._v("monitoring")]),t._v(" "),e("td",[t._v("Namespace in which Prometheus operator is running")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisExporter.enabled")])]),t._v(" "),e("td",[t._v("true")]),t._v(" "),e("td",[t._v("Redis exporter should be deployed or not")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisExporter.image")])]),t._v(" "),e("td",[t._v("quay.io/opstree/redis-exporter")]),t._v(" "),e("td",[t._v("Name of the redis exporter image")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisExporter.tag")])]),t._v(" "),e("td",[t._v("v6.2")]),t._v(" "),e("td",[t._v("Tag of the redis exporter image")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisExporter.imagePullPolicy")])]),t._v(" "),e("td",[t._v("IfNotPresent")]),t._v(" "),e("td",[t._v("Image Pull Policy of the redis exporter image")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("redisExporter.env")])]),t._v(" "),e("td",[t._v("[]")]),t._v(" "),e("td",[t._v("Extra environment variables which needs to be added in redis exporter")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("nodeSelector")])]),t._v(" "),e("td",[t._v("{}")]),t._v(" "),e("td",[t._v("NodeSelector for redis statefulset")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("priorityClassName")])]),t._v(" "),e("td",[t._v('""')]),t._v(" "),e("td",[t._v("Priority class name for the redis statefulset")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("storageSpec")])]),t._v(" "),e("td",[t._v("{}")]),t._v(" "),e("td",[t._v("Storage configuration for redis setup")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("securityContext")])]),t._v(" "),e("td",[t._v("{}")]),t._v(" "),e("td",[t._v("Security Context for redis pods for changing system or kernel level parameters")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("tolerations")])]),t._v(" "),e("td",[t._v("[]")]),t._v(" "),e("td",[t._v("Tolerations for redis statefulset")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("sidecars")])]),t._v(" "),e("td",[t._v("[]")]),t._v(" "),e("td",[t._v("Sidecar for redis pods")])])])]),t._v(" "),e("h1",{attrs:{id:"crd-parameters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#crd-parameters"}},[t._v("#")]),t._v(" CRD Parameters")]),t._v(" "),e("p",[t._v("These are the CRD Parameters which is currently supported by Redis Exporter for standalone CRD.")]),t._v(" "),e("p",[e("strong",[t._v("clusterSize")])]),t._v(" "),e("p",[e("code",[t._v("clusterSize")]),t._v(" is size of the Redis leader and follower nodes.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("clusterSize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n")])])]),e("p",[e("strong",[t._v("clusterVersion")])]),t._v(" "),e("p",[e("code",[t._v("clusterVersion")]),t._v(" is a paramter through which we can control Redis major values. The possible values are:-")]),t._v(" "),e("ul",[e("li",[t._v("v6")]),t._v(" "),e("li",[t._v("v7")])]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("clusterVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v7\n")])])]),e("p",[e("strong",[t._v("persistenceEnabled")])]),t._v(" "),e("p",[e("code",[t._v("persistenceEnabled")]),t._v(" is a configuration parameter to enable the persistence storage in redis cluster. The possible values are:-")]),t._v(" "),e("ul",[e("li",[t._v("true")]),t._v(" "),e("li",[t._v("false")])]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("persistenceEnabled")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])])]),e("p",[e("strong",[t._v("redisLeader")])]),t._v(" "),e("p",[e("code",[t._v("redisLeader")]),t._v(" is the field for Redis leader related configurations.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redisLeader")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redisConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("additionalRedisConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("external"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("config\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("affinity")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeAffinity")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requiredDuringSchedulingIgnoredDuringExecution")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeSelectorTerms")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchExpressions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" disktype\n              "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operator")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" In\n              "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ssd\n")])])]),e("p",[e("strong",[t._v("redisFollower")])]),t._v(" "),e("p",[e("code",[t._v("redisFollower")]),t._v(" is the field for Redis follower related configurations.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redisFollower")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redisConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("additionalRedisConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("external"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("config\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("affinity")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeAffinity")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requiredDuringSchedulingIgnoredDuringExecution")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeSelectorTerms")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchExpressions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" disktype\n              "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operator")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" In\n              "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ssd\n")])])]),e("p",[e("strong",[t._v("kubernetesConfig")])]),t._v(" "),e("p",[t._v("In the "),e("code",[t._v("kubernetesConfig")]),t._v(" section, we define configuration related to Kubernetes.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kubernetesConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" quay.io/opstree/redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v6.2\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IfNotPresent\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 101m\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 128Mi\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 101m\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 128Mi\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redisSecret")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("secret\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullSecrets")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" regcred\n")])])]),e("p",[e("strong",[t._v("redisExporter")])]),t._v(" "),e("p",[e("code",[t._v("redisExporter")]),t._v(" configuration which enable the metrics for Redis Database to get monitored by Prometheus.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redisExporter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" quay.io/opstree/redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("exporter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100m\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 128Mi\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100m\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 128Mi\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" REDIS_EXPORTER_INCL_SYSTEM_METRICS\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" UI_PROPERTIES_FILE_NAME\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("valueFrom")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configMapKeyRef")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" game"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("demo\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ui_properties_file_name\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SECRET_USERNAME\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("valueFrom")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secretKeyRef")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysecret\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" username\n")])])]),e("p",[e("strong",[t._v("storage")])]),t._v(" "),e("p",[e("code",[t._v("storage")]),t._v(" configuration for Redis Statefulset pods.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumeClaimTemplate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storageClassName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" standard\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("accessModes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ReadWriteOnce"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1Gi\n")])])]),e("p",[e("strong",[t._v("priorityClassName")])]),t._v(" "),e("p",[t._v("Name of the Kubernetes priority class which you want to associate with redis setup.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("priorityClassName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" priority"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n")])])]),e("p",[e("strong",[t._v("nodeSelector")])]),t._v(" "),e("p",[t._v("Map of the labels which you want to use as nodeSelector.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeSelector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kubernetes.io/hostname")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" minikube\n")])])]),e("p",[e("strong",[t._v("securityContext")])]),t._v(" "),e("p",[t._v("Kubernetes security context for redis pods.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("securityContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runAsUser")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fsGroup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n")])])]),e("p",[e("strong",[t._v("tolerations")])]),t._v(" "),e("p",[t._v("Tolerations for nodes and pods in Kubernetes.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tolerations")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key1"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operator")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Equal"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value1"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("effect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NoSchedule"')]),t._v("\n")])])]),e("p",[e("strong",[t._v("sidecars")])]),t._v(" "),e("p",[t._v("Sidecars for redis pods")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sidecars")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sidecar1"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"image:1.0"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50m\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 64Mi\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10m\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 32M\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" VAR_NAME\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value1"')]),t._v("\n")])])]),e("p",[e("strong",[t._v("pdb")])]),t._v(" "),e("p",[t._v("PodDisruptionBugets for redis cluster pods")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pdb")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxUnavailable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minAvailable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),e("p",[e("strong",[t._v("probes")])]),t._v(" "),e("p",[t._v("Probes for redis leader and follower pods")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  redisFollower:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  redisLeader:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("readinessProbe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("failureThreshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialDelaySeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("periodSeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("successThreshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeoutSeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("livenessProbe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("failureThreshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialDelaySeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("periodSeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("successThreshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeoutSeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n")])])]),e("p",[e("strong",[t._v("TLS")])]),t._v(" "),e("p",[t._v("TLS configuration for redis cluster")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("TLS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ca")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ca.key\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" tls.crt\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" tls.key\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secret")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secretName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cert\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);